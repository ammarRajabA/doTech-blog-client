angular.module("article").controller("editorController",["$routeParams","toaster","$scope","REST2",function(e,n,i,t){i.tinymceOptions={plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste code codesample"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | codesample"},t.forceSSL(),i.login=!1,i.details=!1,i.nextButton="Next",edit=!1,id=void 0,angular.isUndefined(e.id)?i.newArticle={}:(id=e.id,edit=!0,t.article(e.id,function(e){i.newArticle={content:e.content,title:e.title,cover:e.cover,category:e.category}})),n.pop("info","New user ?","Please send your full name to doTechContact@gmail.com with subject: doTech to get login info.",2e4),i.nextStep=function(){i.login&&i.details&&(angular.isUndefined(i.newArticle.title)||angular.isUndefined(i.newArticle.content)||angular.isUndefined(i.newArticle.category)||angular.isUndefined(i.newArticle.cover))?n.pop("warning","Article info","You have to fill the article info fields"):!i.login||!i.details||angular.isUndefined(i.newArticle.title)||angular.isUndefined(i.newArticle.content)||angular.isUndefined(i.newArticle.category)||angular.isUndefined(i.newArticle.cover)||t.publish(i.newArticle,{userName:i.userName,password:i.password},edit,id,function(e){n.pop({type:e.success?"success":"error",title:e.success?"Great..":"Something error",body:e.success?"Article is on the server now":"Because of "+e.state})}),1==i.login&&(angular.isUndefined(i.userName)||angular.isUndefined(i.password))?n.pop("warning","Login info","You have to fill your name and password"):1!=i.login||angular.isUndefined(i.userName)||angular.isUndefined(i.password)||(i.details=!0,i.nextButton="Publish"),i.login=!0}}]);