angular.module("article").service("REST2",["$window","$location","$http","$resource","$base64","toaster",function(e,t,i,a,r,o){var c={read:a("/api/articles/id/:id",{},{article:{method:"GET",isArray:!1}}),write:a("api/publish",{},{article:{method:"POST"}}),edit:a("api/edit/:id",{},{article:{method:"POST"}}),"delete":a("api/articles/:id",{},{article:{method:"DELETE"}})};this.forceSSL=function(){"https"!==t.protocol()&&(e.location.href=t.absUrl().replace("http","https"))},this.article=function(e,t){return article=c.read.article({id:e},function(e){angular.isFunction(t)&&t(e)}),article},this.publish=function(e,t,a,o,n){i.defaults.headers.common.Authorization="Basic "+r.encode(t.userName+":"+t.password),a?c.edit.article({id:o},e,function(e){n(e)}):c.write.article({},e,function(e){n(e)})},this["delete"]=function(e,t,a){this.forceSSL(),i.defaults.headers.common.Authorization="Basic "+r.encode(e.userName+":"+e.password),c["delete"].article({id:t},{},function(e){a(e)})}}]);